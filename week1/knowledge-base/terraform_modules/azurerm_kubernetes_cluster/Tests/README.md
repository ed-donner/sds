# Infra Team Test

This template is used for testing the `infra` team's Terraform modules only an dis used to test features and fixes before they are released to consumers.  

<!-- BEGIN_TF_DOCS -->
## Requirements

| Name | Version |
|------|---------|
| <a name="requirement_azuread"></a> [azuread](#requirement\_azuread) | 3.1.0 |
| <a name="requirement_azurerm"></a> [azurerm](#requirement\_azurerm) | 4.14.0 |

## Providers

No providers.

## Modules

| Name | Source | Version |
|------|--------|---------|
| <a name="module_axso_kubernetes_cluster"></a> [axso\_kubernetes\_cluster](#module\_axso\_kubernetes\_cluster) | git::ssh://git@ssh.dev.azure.com/v3/Axpo-AXSO/TIM-INFRA-MODULES/azurerm_kubernetes_cluster | ~{gitRef}~ |

## Resources

No resources.

## Inputs

| Name | Description | Type | Default | Required |
|------|-------------|------|---------|:--------:|
| <a name="input_acr_name"></a> [acr\_name](#input\_acr\_name) | Enable ACR integration if specified. Default is null. If true, the ACR name must be specified. | `string` | `null` | no |
| <a name="input_acr_resource_group_name"></a> [acr\_resource\_group\_name](#input\_acr\_resource\_group\_name) | Name of the resource group where the container registry is deployed | `string` | `null` | no |
| <a name="input_acr_subscription_id"></a> [acr\_subscription\_id](#input\_acr\_subscription\_id) | Id of the subscription where the container registry is deployed | `string` | `null` | no |
| <a name="input_admin_groups"></a> [admin\_groups](#input\_admin\_groups) | The list of Azure AD groups that should be assigned the Grafana Admin role. | `list(string)` | `[]` | no |
| <a name="input_agents_availability_zones"></a> [agents\_availability\_zones](#input\_agents\_availability\_zones) | (Optional) A list of Availability Zones across which the Node Pool should be spread. Changing this forces a new resource to be created. | `list(string)` | <pre>[<br>  "Zone 1"<br>]</pre> | no |
| <a name="input_agents_type"></a> [agents\_type](#input\_agents\_type) | value of the type of agents to use with the system node pool. VirtualMachineScaleSets or AvailabilitySet. | `string` | `"VirtualMachineScaleSets"` | no |
| <a name="input_aks_loga_name"></a> [aks\_loga\_name](#input\_aks\_loga\_name) | (Required) The name of the Log Analytics Workspace which the OMS Agent should send data to. | `string` | `"Log Analytics Workspace Name"` | no |
| <a name="input_aks_subnet_name"></a> [aks\_subnet\_name](#input\_aks\_subnet\_name) | (Optional) The name of a Subnet where the Kubernetes Node Pool should exist. Changing this forces a new resource to be created. | `string` | n/a | yes |
| <a name="input_api_key_enabled"></a> [api\_key\_enabled](#input\_api\_key\_enabled) | Indicates whether the API key should be enabled for the Grafana instance. | `bool` | `false` | no |
| <a name="input_azure_monitor_workspace_enabled"></a> [azure\_monitor\_workspace\_enabled](#input\_azure\_monitor\_workspace\_enabled) | Indicates whether the Azure Monitor workspace should be enabled for the Grafana instance. | `bool` | `false` | no |
| <a name="input_azuread_group_admin_names"></a> [azuread\_group\_admin\_names](#input\_azuread\_group\_admin\_names) | The owner/s groups of the AAD groups to associate with the  aks owner group. | `list(string)` | <pre>[<br>  "CL-AXSO-AZ-SUB-cloudinfra-nonprod-Owner"<br>]</pre> | no |
| <a name="input_azuread_group_readers_names"></a> [azuread\_group\_readers\_names](#input\_azuread\_group\_readers\_names) | The reader/s groups of the AAD groups to associate with the  aks reader group. | `list(string)` | <pre>[<br>  "CL-AXSO-AZ-SUB-cloudinfra-nonprod-Owner"<br>]</pre> | no |
| <a name="input_container_Insights_data_collection_interval"></a> [container\_Insights\_data\_collection\_interval](#input\_container\_Insights\_data\_collection\_interval) | n/a | `string` | `"5m"` | no |
| <a name="input_container_Insights_enableContainerLogV2"></a> [container\_Insights\_enableContainerLogV2](#input\_container\_Insights\_enableContainerLogV2) | Enable ContainerLogV2 | `bool` | `true` | no |
| <a name="input_container_Insights_namespace_filtering_mode_for_data_collection"></a> [container\_Insights\_namespace\_filtering\_mode\_for\_data\_collection](#input\_container\_Insights\_namespace\_filtering\_mode\_for\_data\_collection) | value can be 'Off' or 'Exclude' | `string` | `"Exclude"` | no |
| <a name="input_container_Insights_namespaces_for_data_collection"></a> [container\_Insights\_namespaces\_for\_data\_collection](#input\_container\_Insights\_namespaces\_for\_data\_collection) | n/a | `list(string)` | <pre>[<br>  "kube-system",<br>  "gatekeeper-system",<br>  "azure-arc"<br>]</pre> | no |
| <a name="input_container_Insights_streams"></a> [container\_Insights\_streams](#input\_container\_Insights\_streams) | value can be ['Microsoft-ContainerLog', 'Microsoft-ContainerLogV2', 'Microsoft-KubeEvents', 'Microsoft-KubePodInventory', 'Microsoft-KubeNodeInventory', 'Microsoft-KubePVInventory','Microsoft-KubeServices', 'Microsoft-KubeMonAgentEvents', 'Microsoft-InsightsMetrics', 'Microsoft-ContainerInventory',  'Microsoft-ContainerNodeInventory', 'Microsoft-Perf'] | `list(string)` | <pre>[<br>  "Microsoft-ContainerInsights-Group-Default"<br>]</pre> | no |
| <a name="input_cross_region_restore_enabled"></a> [cross\_region\_restore\_enabled](#input\_cross\_region\_restore\_enabled) | (Optional) Specifies whether cross-region restore is enabled. Changing this forces a new Backup Vault to be created. | `bool` | `false` | no |
| <a name="input_datastore_type"></a> [datastore\_type](#input\_datastore\_type) | (Required) Specifies the type of the data store. Possible values are ArchiveStore, OperationalStore, and VaultStore. Changing this forces a new resource to be created<br>  *VaultStore*: It stores backups in the Azure Blob service,It's designed to provide high availability for backup data. Vault Store provides good performance for backup and recovery operations.<br>  *SnapshotStore*: It is used for frequent backups and is crucial when the ability to quickly capture and recover from point-in-time changes is important.<br>  *ArchiveStore*: It is used for a long time, especially for data that is rarely accessed and has extended retention periods, ArchiveStore is a cost-effective option. | `string` | `"VaultStore"` | no |
| <a name="input_default_kubernetes_recording_rules_rule_group_enabled"></a> [default\_kubernetes\_recording\_rules\_rule\_group\_enabled](#input\_default\_kubernetes\_recording\_rules\_rule\_group\_enabled) | Indicates whether the default kubernetes recording rules rule group should be enabled. | `bool` | `true` | no |
| <a name="input_default_node_recording_rules_rule_group_enabled"></a> [default\_node\_recording\_rules\_rule\_group\_enabled](#input\_default\_node\_recording\_rules\_rule\_group\_enabled) | Indicates whether the default node recording rules rule group should be enabled. | `bool` | `true` | no |
| <a name="input_deterministic_outbound_ip_enabled"></a> [deterministic\_outbound\_ip\_enabled](#input\_deterministic\_outbound\_ip\_enabled) | Indicates whether the deterministic outbound IP should be enabled for the Grafana instance. Only use it in case you cant use private connection to the datasources. | `bool` | `false` | no |
| <a name="input_dns_prefix"></a> [dns\_prefix](#input\_dns\_prefix) | value of the DNS prefix to use with the AKS cluster. | `string` | `"axpo-aks"` | no |
| <a name="input_enable_azure_backup"></a> [enable\_azure\_backup](#input\_enable\_azure\_backup) | Indicates whether the Azure Backup Vault should be enabled for backing up this AKS cluster. | `bool` | `false` | no |
| <a name="input_enable_prometheus"></a> [enable\_prometheus](#input\_enable\_prometheus) | Indicates whether the Prometheus rules should be enabled. | `bool` | `false` | no |
| <a name="input_environment"></a> [environment](#input\_environment) | The environment. e.g. dev, qa, uat, prod | `string` | `"prod "` | no |
| <a name="input_grafana_enabled"></a> [grafana\_enabled](#input\_grafana\_enabled) | Indicates whether the Grafana instance should be enabled. | `bool` | `true` | no |
| <a name="input_grafana_major_version"></a> [grafana\_major\_version](#input\_grafana\_major\_version) | The major version of Grafana to use. Possible values are 9 and 10. | `string` | `"10"` | no |
| <a name="input_identity_type"></a> [identity\_type](#input\_identity\_type) | The identity type for the Grafana instance. Possible values are SystemAssigned and UserAssigned. | `string` | `"SystemAssigned"` | no |
| <a name="input_image_cleaner_enabled"></a> [image\_cleaner\_enabled](#input\_image\_cleaner\_enabled) | Indicates whether the image cleaner should be enabled. | `bool` | `false` | no |
| <a name="input_image_cleaner_interval_hours"></a> [image\_cleaner\_interval\_hours](#input\_image\_cleaner\_interval\_hours) | The interval in hours at which the image cleaner should run. | `number` | `24` | no |
| <a name="input_is_enabled_auto_scaling"></a> [is\_enabled\_auto\_scaling](#input\_is\_enabled\_auto\_scaling) | Auto scaling enabled to use with the system node pool. | `bool` | `false` | no |
| <a name="input_key_vault_name"></a> [key\_vault\_name](#input\_key\_vault\_name) | The name of the key vault to use with the AKS cluster. | `string` | `"etools-kv"` | no |
| <a name="input_kubernetes_cluster_backup_config"></a> [kubernetes\_cluster\_backup\_config](#input\_kubernetes\_cluster\_backup\_config) | Specifies the configuration for Kubernetes cluster backups. This variable defines a list of backup configurations, associating Kubernetes cluster resources with their respective backup policies.<br><br>Attributes:<br>- **kubernetes\_cluster\_name** (Required): The name of the Kubernetes cluster. This must be unique within the context of your Terraform configuration.<br>- **resource\_group\_name** (Required): The name of the Azure Resource Group where the Kubernetes cluster resides.<br>- **kubernetes\_cluster\_backup\_policy\_name** (Required): The name of the backup policy to be applied to the Kubernetes cluster. This should correspond to an existing backup policy defined within your Azure environment.<br><br>Default: An empty list, meaning no backup configurations are defined unless explicitly specified.<br><br>Note: Changing the attributes in this variable will force updates to the associated backup configurations. | <pre>list(object({<br>    resource_group_name                   = string<br>    kubernetes_cluster_backup_policy_name = string<br>    kubernetes_cluster_name               = string<br>    backup_datasource_parameters = object({<br>      excluded_namespaces              = list(string)<br>      excluded_resource_types          = list(string)<br>      cluster_scoped_resources_enabled = bool<br>      included_namespaces              = optional(list(string))<br>      included_resource_types          = list(string)<br>      label_selectors                  = list(string)<br>      volume_snapshot_enabled          = bool<br>    })<br>  }))</pre> | `[]` | no |
| <a name="input_kubernetes_cluster_backup_policy"></a> [kubernetes\_cluster\_backup\_policy](#input\_kubernetes\_cluster\_backup\_policy) | Specifies the backup policy for Kubernetes clusters. This variable allows you to define a list of backup policies with detailed attributes. Changing any of these attributes forces the creation of a new Backup Policy for the Kubernetes cluster.<br><br>Attributes:<br>- **kubernetes\_cluster\_backup\_policy\_name** (Required): The name of the backup policy. Changing this forces a new Backup Policy to be created.<br>- **resource\_group\_name** (Required): The name of the Azure Resource Group where the Kubernetes cluster resides.<br>- **vault\_name** (Required): The name of the backup vault associated with the policy.<br>- **backup\_repeating\_time\_intervals** (Optional): A list of repeating time intervals for backups. These intervals must adhere to the ISO 8601 repeating interval format. Changing this forces a new Backup Policy to be created.<br>- **time\_zone** (Optional): Specifies the time zone to be used by the backup schedule. Changing this forces a new Backup Policy to be created.<br>- **retention\_rule** (Optional): Defines the retention rules for the backup policy, including:<br>  - **name** (Required): The name of the retention rule.<br>  - **priority** (Required): The priority of the retention rule.<br>  - **criteria** (Optional): Specifies additional criteria for the retention rule, including:<br>    - **absolute\_criteria** (Optional): Specifies an optional absolute criteria string.<br>    - **days\_of\_week** (Optional): A list of days of the week for the backup schedule.<br>    - **months\_of\_year** (Optional): A list of months of the year for the backup schedule.<br>    - **scheduled\_backup\_times** (Optional): A list of specific backup times in HH:mm:ss format.<br>    - **weeks\_of\_month** (Optional): A list of weeks of the month for the backup schedule.<br>  - **lifecycle** (Required): Specifies lifecycle management settings for the retention rule, including:<br>    - **duration** (Required): The duration for lifecycle management, following the ISO 8601 duration format.<br><br>Note: Changing any of these attributes forces a new Backup Policy to be created for the specified Kubernetes cluster. | <pre>list(object({<br>    kubernetes_cluster_backup_policy_name = string<br>    resource_group_name                   = string<br>    vault_name                            = string<br>    backup_repeating_time_intervals       = optional(list(string))<br>    time_zone                             = optional(string)<br>    default_retention_rule = optional(object({<br>      lifecycle = object({<br>        duration = string<br>      })<br>    }))<br>    retention_rule = optional(list(object({<br>      name     = string<br>      priority = number<br>      criteria = optional(object({<br>        absolute_criteria      = optional(string)<br>        days_of_week           = optional(list(string))<br>        months_of_year         = optional(list(string))<br>        scheduled_backup_times = optional(list(string))<br>        weeks_of_month         = optional(list(string))<br>      }))<br>      lifecycle = object({<br>        duration = string<br>      })<br>    })))<br>  }))</pre> | n/a | yes |
| <a name="input_kubernetes_cluster_storage_account_config"></a> [kubernetes\_cluster\_storage\_account\_config](#input\_kubernetes\_cluster\_storage\_account\_config) | Specifies the configuration for Kubernetes cluster storage accounts used for backups. This variable defines the necessary attributes to associate Kubernetes cluster resources with their respective Azure storage accounts for backup purposes.<br><br>Attributes:<br>- **kubernetes\_cluster\_backup\_storage\_account\_name** (Required): The name of the Azure Storage Account used for Kubernetes cluster backups.<br>- **kubernetes\_cluster\_backup\_storage\_account\_resource\_group\_name** (Required): The name of the Azure Resource Group where the storage account is located.<br>- **kubernetes\_cluster\_backup\_storage\_account\_blob\_name** (Required): The name of the blob container within the storage account where the backups will be stored.<br><br>Default: An empty object, indicating no storage account configurations are defined unless explicitly specified.<br><br>Note: Modifying these attributes will trigger updates to the associated Kubernetes cluster backup configurations in Terraform. | <pre>object({<br>    kubernetes_cluster_backup_storage_account_name                = optional(string)<br>    kubernetes_cluster_backup_storage_account_resource_group_name = optional(string)<br>    kubernetes_cluster_backup_storage_account_blob_name           = optional(string)<br>  })</pre> | `{}` | no |
| <a name="input_kubernetes_version"></a> [kubernetes\_version](#input\_kubernetes\_version) | value of the kubernetes version to use with the AKS cluster. | `string` | `"1.27.7"` | no |
| <a name="input_location"></a> [location](#input\_location) | Specifies azure region/location where resources will be created. | `string` | `"westeurope"` | no |
| <a name="input_max_count"></a> [max\_count](#input\_max\_count) | value of the maximum number of nodes in the system node pool ('null' if is\_enabled\_auto\_scaling == true). | `number` | `4` | no |
| <a name="input_min_count"></a> [min\_count](#input\_min\_count) | value of the minimum number of nodes in the system node pool ('null' if is\_enabled\_auto\_scaling == true). | `number` | `3` | no |
| <a name="input_network_resource_group_name"></a> [network\_resource\_group\_name](#input\_network\_resource\_group\_name) | The name of the network that hosts the AKS subnet. | `string` | `""` | no |
| <a name="input_node_count"></a> [node\_count](#input\_node\_count) | value of the number of nodes in the system node pool. | `number` | `3` | no |
| <a name="input_oidc_issuer_enabled"></a> [oidc\_issuer\_enabled](#input\_oidc\_issuer\_enabled) | OIDC issuer enabled to use with the AKS cluster. | `bool` | `false` | no |
| <a name="input_os_disk_size_gb"></a> [os\_disk\_size\_gb](#input\_os\_disk\_size\_gb) | value of the OS disk size to use with the system node pool (in GB). | `string` | `"128"` | no |
| <a name="input_patch_setting"></a> [patch\_setting](#input\_patch\_setting) | (Optional) The upgrade channel for this Kubernetes Cluster. Possible values are patch, rapid, node-image and stable. Omitting this field sets this value to none. | `string` | `null` | no |
| <a name="input_pe_subnet_name"></a> [pe\_subnet\_name](#input\_pe\_subnet\_name) | The subnet name, used in data source to get subnet ID, to enable the private endpoint. | `string` | n/a | yes |
| <a name="input_pool_names"></a> [pool\_names](#input\_pool\_names) | Available sysctl parameters and their value ranges:<br><br>    - fs\_aio\_max\_nr: Minimum 65536, Maximum 6553500<br>    - fs\_file\_max: Minimum 8192, Maximum 12000500<br>    - fs\_inotify\_max\_user\_watches: Minimum 781250, Maximum 2097152<br>    - fs\_nr\_open: Minimum 8192, Maximum 20000500<br>    - kernel\_threads\_max: Minimum 20, Maximum 513785<br>    - net\_core\_netdev\_max\_backlog: Minimum 1000, Maximum 3240000<br>    - net\_core\_optmem\_max: Minimum 20480, Maximum 4194304<br>    - net\_core\_rmem\_default: Minimum 212992, Maximum 134217728<br>    - net\_core\_rmem\_max: Minimum 212992, Maximum 134217728<br>    - net\_core\_somaxconn: Minimum 4096, Maximum 3240000<br>    - net\_core\_wmem\_default: Minimum 212992, Maximum 134217728<br>    - net\_core\_wmem\_max: Minimum 212992, Maximum 134217728<br>    - net\_ipv4\_ip\_local\_port\_range\_max: Minimum 32768, Maximum 65535<br>    - net\_ipv4\_ip\_local\_port\_range\_min: Minimum 1024, Maximum 60999<br>    - net\_ipv4\_neigh\_default\_gc\_thresh1: Minimum 128, Maximum 80000<br>    - net\_ipv4\_neigh\_default\_gc\_thresh2: Minimum 512, Maximum 90000<br>    - net\_ipv4\_neigh\_default\_gc\_thresh3: Minimum 1024, Maximum 100000<br>    - net\_ipv4\_tcp\_fin\_timeout: Minimum 5, Maximum 120<br>    - net\_ipv4\_tcp\_keepalive\_intvl: Minimum 10, Maximum 90<br>    - net\_ipv4\_tcp\_keepalive\_probes: Minimum 1, Maximum 15<br>    - net\_ipv4\_tcp\_keepalive\_time: Minimum 30, Maximum 432000<br>    - net\_ipv4\_tcp\_max\_syn\_backlog: Minimum 128, Maximum 3240000<br>    - net\_ipv4\_tcp\_max\_tw\_buckets: Minimum 8000, Maximum 1440000<br>    - vm\_max\_map\_count: Minimum 65530, Maximum 262144<br>    - vm\_swappiness: Minimum 0, Maximum 100<br>    - vm\_vfs\_cache\_pressure: Minimum 0, Maximum 100<br><br>  Set these values as needed for system performance and tuning. Values left as "null" will not be applied. | <pre>list(object({<br>    name                      = string<br>    subnet_name               = string<br>    node_count                = number<br>    vm_size                   = string<br>    os_type                   = string<br>    os_sku                    = string<br>    os_disk_size_gb           = string<br>    max_pods                  = number<br>    enable_auto_scaling       = bool<br>    min_count                 = number<br>    max_count                 = number<br>    pool_mode                 = string<br>    agents_availability_zones = list(string)<br>    sysctl_config = object({<br>      fs_aio_max_nr                     = optional(number, null)<br>      fs_file_max                       = optional(number, null)<br>      fs_inotify_max_user_watches       = optional(number, null)<br>      fs_nr_open                        = optional(number, null)<br>      kernel_threads_max                = optional(number, null)<br>      net_core_netdev_max_backlog       = optional(number, null)<br>      net_core_optmem_max               = optional(number, null)<br>      net_core_rmem_default             = optional(number, null)<br>      net_core_rmem_max                 = optional(number, null)<br>      net_core_somaxconn                = optional(number, null)<br>      net_core_wmem_default             = optional(number, null)<br>      net_core_wmem_max                 = optional(number, null)<br>      net_ipv4_ip_local_port_range_max  = optional(number, null)<br>      net_ipv4_ip_local_port_range_min  = optional(number, null)<br>      net_ipv4_neigh_default_gc_thresh1 = optional(number, null)<br>      net_ipv4_neigh_default_gc_thresh2 = optional(number, null)<br>      net_ipv4_neigh_default_gc_thresh3 = optional(number, null)<br>      net_ipv4_tcp_fin_timeout          = optional(number, null)<br>      net_ipv4_tcp_keepalive_intvl      = optional(number, null)<br>      net_ipv4_tcp_keepalive_probes     = optional(number, null)<br>      net_ipv4_tcp_keepalive_time       = optional(number, null)<br>      net_ipv4_tcp_max_syn_backlog      = optional(number, null)<br>      net_ipv4_tcp_max_tw_buckets       = optional(number, null)<br>      vm_max_map_count                  = optional(number, null)<br>      vm_swappiness                     = optional(number, null)<br>      vm_vfs_cache_pressure             = optional(number, null)<br>    })<br>  }))</pre> | <pre>[<br>  {<br>    "agents_availability_zones": [<br>      "2"<br>    ],<br>    "enable_auto_scaling": true,<br>    "max_count": 3,<br>    "max_pods": 110,<br>    "min_count": 2,<br>    "name": "userpool",<br>    "node_count": 2,<br>    "os_disk_size_gb": "30",<br>    "os_sku": "Ubuntu",<br>    "os_type": "Linux",<br>    "pool_mode": "User",<br>    "subnet_name": "default-subnet",<br>    "sysctl_config": null,<br>    "vm_size": "Standard_D2ads_v5"<br>  }<br>]</pre> | no |
| <a name="input_private_cluster_public_fqdn_enabled"></a> [private\_cluster\_public\_fqdn\_enabled](#input\_private\_cluster\_public\_fqdn\_enabled) | Enable or Disable the private cluster public FQDN. | `bool` | `false` | no |
| <a name="input_project_name"></a> [project\_name](#input\_project\_name) | The name of the project. e.g. MDS, etools, cp, cpm etc.. etc.. | `string` | `"etools"` | no |
| <a name="input_redundancy"></a> [redundancy](#input\_redundancy) | (Required) Specifies the backup storage redundancy. Possible values are GeoRedundant, LocallyRedundant and ZoneRedundant. Changing this forces a new Backup Vault to be created. | `string` | `"GeoRedundant"` | no |
| <a name="input_resource_group_name"></a> [resource\_group\_name](#input\_resource\_group\_name) | The name of the resource group in which the resources will be created. | `string` | n/a | yes |
| <a name="input_retention_duration_in_days"></a> [retention\_duration\_in\_days](#input\_retention\_duration\_in\_days) | (Optional) Specifies the retention duration for the backup data in days. Changing this forces a new Backup Vault to be created. | `number` | `14` | no |
| <a name="input_role_assignments_reader"></a> [role\_assignments\_reader](#input\_role\_assignments\_reader) | The role assignments to create with each group and namespace | <pre>list(object({<br>    group_names = list(string)<br>    namespaces  = list(string)<br>  }))</pre> | `[]` | no |
| <a name="input_role_assignments_writer"></a> [role\_assignments\_writer](#input\_role\_assignments\_writer) | The role assignments to create with each group and namespace | <pre>list(object({<br>    group_names = list(string)<br>    namespaces  = list(string)<br>  }))</pre> | `[]` | no |
| <a name="input_service_accounts"></a> [service\_accounts](#input\_service\_accounts) | The service accounts to create in the Kubernetes cluster for the workload identity | <pre>list(object({<br>    name                              = string<br>    namespace                         = string<br>    service_account_name              = string<br>    workload_assigned_identity_name   = string<br>    workload_assigned_identity_exists = optional(bool, false) # If the identity already exists, set this to true<br>  }))</pre> | `[]` | no |
| <a name="input_sku"></a> [sku](#input\_sku) | The SKU of the Grafana instance. Possible values are Essential and Standard. | `string` | `"Standard"` | no |
| <a name="input_sku_tier"></a> [sku\_tier](#input\_sku\_tier) | The SKU Tier that should be used for this Kubernetes Cluster. Possible values are Free, Standard (which includes the Uptime SLA) and Premium. Defaults to Standard | `string` | `"Standard"` | no |
| <a name="input_smtp_enable"></a> [smtp\_enable](#input\_smtp\_enable) | Indicates whether the SMTP should be enabled for the Grafana instance. | `bool` | `false` | no |
| <a name="input_soft_delete"></a> [soft\_delete](#input\_soft\_delete) | (Optional) Specifies whether soft delete is enabled. Changing this forces a new Backup Vault to be created. | `string` | `"Off"` | no |
| <a name="input_subscription"></a> [subscription](#input\_subscription) | The subscription type e.g. 'p' or 'np' | `string` | `"p"` | no |
| <a name="input_support_plan"></a> [support\_plan](#input\_support\_plan) | Kubernetes support Plan. If you used Long term support, use Premium Sku Tier | `string` | `"KubernetesOfficial"` | no |
| <a name="input_sysctl_config_system_pool"></a> [sysctl\_config\_system\_pool](#input\_sysctl\_config\_system\_pool) | n/a | <pre>object({<br>    fs_aio_max_nr                     = optional(number, null)<br>    fs_file_max                       = optional(number, null)<br>    fs_inotify_max_user_watches       = optional(number, null)<br>    fs_nr_open                        = optional(number, null)<br>    kernel_threads_max                = optional(number, null)<br>    net_core_netdev_max_backlog       = optional(number, null)<br>    net_core_optmem_max               = optional(number, null)<br>    net_core_rmem_default             = optional(number, null)<br>    net_core_rmem_max                 = optional(number, null)<br>    net_core_somaxconn                = optional(number, null)<br>    net_core_wmem_default             = optional(number, null)<br>    net_core_wmem_max                 = optional(number, null)<br>    net_ipv4_ip_local_port_range_max  = optional(number, null)<br>    net_ipv4_ip_local_port_range_min  = optional(number, null)<br>    net_ipv4_neigh_default_gc_thresh1 = optional(number, null)<br>    net_ipv4_neigh_default_gc_thresh2 = optional(number, null)<br>    net_ipv4_neigh_default_gc_thresh3 = optional(number, null)<br>    net_ipv4_tcp_fin_timeout          = optional(number, null)<br>    net_ipv4_tcp_keepalive_intvl      = optional(number, null)<br>    net_ipv4_tcp_keepalive_probes     = optional(number, null)<br>    net_ipv4_tcp_keepalive_time       = optional(number, null)<br>    net_ipv4_tcp_max_syn_backlog      = optional(number, null)<br>    net_ipv4_tcp_max_tw_buckets       = optional(number, null)<br>    vm_max_map_count                  = optional(number, null)<br>    vm_swappiness                     = optional(number, null)<br>    vm_vfs_cache_pressure             = optional(number, null)<br>  })</pre> | `{}` | no |
| <a name="input_system_node_pool_name"></a> [system\_node\_pool\_name](#input\_system\_node\_pool\_name) | value of the name of the system node pool. | `string` | `"systempool"` | no |
| <a name="input_temporary_name_for_rotation"></a> [temporary\_name\_for\_rotation](#input\_temporary\_name\_for\_rotation) | (Optional) A temporary name to use when rotating the Node Pool. This value must be specified when attempting a rotation. | `string` | `"temporary-name"` | no |
| <a name="input_virtual_network_name"></a> [virtual\_network\_name](#input\_virtual\_network\_name) | The name of the network that hosts the AKS subnet. | `string` | `""` | no |
| <a name="input_vm_size"></a> [vm\_size](#input\_vm\_size) | value of the VM size to use with the system node pool. | `string` | `"Standard_DS2_v2"` | no |
| <a name="input_workload_assigned_identities"></a> [workload\_assigned\_identities](#input\_workload\_assigned\_identities) | The identities to create to use with the workload identity | <pre>list(object({<br>    workload_assigned_identity_name   = string<br>    workload_assigned_identity_exists = optional(bool, false) # If the identity already exists, set this to true<br>  }))</pre> | `[]` | no |
| <a name="input_workload_identity_enabled"></a> [workload\_identity\_enabled](#input\_workload\_identity\_enabled) | (Optional) Enable or Disable the Workload Identity | `bool` | `false` | no |
| <a name="input_zone_redundancy_enabled"></a> [zone\_redundancy\_enabled](#input\_zone\_redundancy\_enabled) | Indicates whether zone redundancy should be enabled for the Grafana instance. | `bool` | `true` | no |

## Outputs

No outputs.
<!-- END_TF_DOCS -->